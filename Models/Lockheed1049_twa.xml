<?xml version="1.0"?>

<!--
     VRP :
     - the model is shifted at the nose tip, where one wants the FDM to compute the movement.
     - that doesn't affect the animations.
     - that only requires a shift of views.
     - IMPORTANT : the model is already align vertically from Blender.


     Animation :
     - WARNING, group used for LOD : cockpit, brakes, elevator boost, pedestal,
       pedestal cylinder, overhead, auxilliary cylinder and control quadrant.
     - 1 Blender unit = 1 m.
     - multiplayer requires property without leading slash.
     - disabling 3D instruments in external view brings frame rate.


     References :
     ==========
     - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
     (FAA certificate, 6a5 - 14 may 1952) :

     Gear ratio 16 : 7.

     - Tyres :                 F1 F2

                       L1 L2           R1 R2

     - Fowler wing flaps : retracts below the wing, increases the wing surface and curvature.


     Known problems :
     ==============
     - drag struts of front gear retract through the fuselage.
     - the shaft is visible behind the propeller disc, because they are not in a group.
     - as Nasal interpolate is not always round, 0.1 offset on landing light position :
       0.0 1.0 becomes 0.1 0.9.
-->

<PropertyList>

 <path>Lockheed1049.ac</path>

 <offsets>

<!-- shifts the model forwards : determines the horizontal position of the nose tip. -->
  <x-m>17.3</x-m>             <!-- VRP at nose : half of length 113.6 ft. -->

<!-- aligned by FDM gear, if the model is supposed at scale ! -->
  <z-m>0.0</z-m>

 </offsets>

  <nasal>
   <load>
    var livery_update = aircraft.livery_update.new(
    "Aircraft/Lockheed1049/Models/Liveries", 10,
    func { print("Lockheed1049 livery update") });
   </load>

   <unload>
    livery_update.stop();
   </unload>
  </nasal>


<!-- ============================ -->
<!-- Livery (1 texture per group) -->
<!-- ============================ -->

  <animation>
   <type>material</type>
   <object-name>Fuselage</object-name>
   <property-base>sim/model/livery/</property-base>
   <texture-prop>texture</texture-prop>
  </animation>
  
  <animation>
   <type>material</type>
   <object-name>FrontDoor</object-name>
   <property-base>sim/model/livery/</property-base>
   <texture-prop>texture-gear</texture-prop>
  </animation>
  
  <animation>
   <type>material</type>
   <object-name>LeftFin</object-name>
   <property-base>sim/model/livery/</property-base>
   <texture-prop>texture-fin</texture-prop>
  </animation>
  
  <animation>
   <type>material</type>
   <object-name>RightFin</object-name>
   <property-base>sim/model/livery/</property-base>
   <texture-prop>texture-fin</texture-prop>
  </animation>


 <!-- =========== -->
 <!-- Instruments -->
 <!-- =========== -->

  <model>
   <name>Instruments</name>
   <path>Aircraft/Lockheed1049/Models/Lockheed1049_instruments.xml</path>
  </model>

  <model>
   <name>Exterior</name>
   <path>Aircraft/Lockheed1049/Models/Lockheed1049_exterior.xml</path>
  </model>

  <model>
   <name>Effects</name>
   <path>Aircraft/Lockheed1049/Models/Lockheed1049_effects.xml</path>
  </model>

  <model>
   <name>Pushback</name>
   <path>Models\Airport\Pushback\Military.xml</path>
   <offsets>   
    <x-m>-15.35</x-m>
    <y-m>0</y-m>
    <z-m>-3.37</z-m>
   </offsets>
  </model>


<!-- ============ -->
<!-- Optimization -->
<!-- ============ -->

  <animation>
   <name>flightdeck</name>
   <object-name>Cockpit</object-name>
  </animation>

  <animation>
   <type>range</type>
   <object-name>Cockpit</object-name>
   <min-m>0</min-m>
   <max-m>50</max-m>
  </animation>

<!-- CAPTAIN -->

  <animation>
   <name>captain</name>
   <object-name>PilotSidePanel</object-name>
   <object-name>Captain Instruments</object-name>
  </animation>

  <animation>
   <type>select</type>
   <object-name>captain</object-name>
   <condition>
    <or>
     <and>
      <property>sim/current-view/internal</property>
      <property>systems/seat/captain</property>
     </and>
     <property>controls/seat/all</property>
    </or>
   </condition>
  </animation>

<!-- BOTH -->

  <animation>
   <name>both</name>
   <object-name>Overhead</object-name>
   <object-name>GlareshieldPanel</object-name>
   <object-name>Panel</object-name>
   <object-name>Pedestal</object-name>
   <object-name>Overhead Instruments</object-name>
   <object-name>Glareshield Instruments</object-name>
   <object-name>Center Instruments</object-name>
   <object-name>Pedestal Instruments</object-name>
  </animation>

  <animation>
   <type>select</type>
   <object-name>both</object-name>
   <condition>
    <or>
     <and>
      <property>sim/current-view/internal</property>
      <or>
       <property>systems/seat/captain</property>
       <property>systems/seat/copilot</property>
      </or>
     </and>
     <property>controls/seat/all</property>
    </or>
   </condition>
  </animation>

<!-- COPILOT -->

  <animation>
   <name>copilot</name>
   <object-name>CopilotSidePanel</object-name>
   <object-name>Copilot Instruments</object-name>
  </animation>

  <animation>
   <type>select</type>
   <object-name>copilot</object-name>
   <condition>
    <or>
     <and>
      <property>sim/current-view/internal</property>
      <property>systems/seat/copilot</property>
     </and>
     <property>controls/seat/all</property>
    </or>
   </condition>
  </animation>

<!-- ENGINEER -->

  <animation>
   <name>engineer</name>
   <object-name>EngineerPanel</object-name>
   <object-name>Engineer Instruments</object-name>
  </animation>

  <animation>
   <type>select</type>
   <object-name>engineer</object-name>
   <condition>
    <or>
     <and>
      <property>sim/current-view/internal</property>
      <property>systems/seat/engineer</property>
     </and>
     <property>controls/seat/all</property>
    </or>
   </condition>
  </animation>

<!-- NAVIGATOR -->

  <animation>
   <name>navigator</name>
   <object-name>Navigator Instruments</object-name>
  </animation>

  <animation>
   <type>select</type>
   <object-name>navigator</object-name>
   <condition>
    <or>
     <and>
      <property>sim/current-view/internal</property>
      <property>systems/seat/navigator</property>
     </and>
     <property>controls/seat/all</property>
    </or>
   </condition>
  </animation>


<!-- ================================== -->
<!-- Animations (x/y/z = back/right/up) -->
<!-- ================================== -->

<!-- OUTBOARDS PROPELLERS -->

  <animation>
   <type>noshadow</type>
   <object-name>PropellerDisc1</object-name>
  </animation>

  <animation>
   <name>Disc1</name>
   <object-name>PropellerDisc1</object-name>
   <object-name>PropellerShaft1</object-name>
  </animation>

 <animation>
  <type>spin</type>
  <object-name>Disc1</object-name>
  <object-name>Propeller1</object-name>
  <property>engines/engine[0]/rpm</property>
  <factor>0.4375</factor> <!-- real 16 : 7 -->
  <center>
   <x-m>0.0</x-m>
   <y-m>-9.72</y-m>
   <z-m>-0.16</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc1</object-name>
  <property>engines/engine[0]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller1</object-name>
  <condition>
   <less-than>
    <property>engines/engine[0]/rpm</property>
    <value>2000</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Disc1</object-name>
  <condition>
   <greater-than-equals>
    <property>engines/engine[0]/rpm</property>
    <value>2000</value>
   </greater-than-equals>
  </condition>
 </animation>

<!-- 4 -->

  <animation>
   <type>noshadow</type>
   <object-name>PropellerDisc4</object-name>
  </animation>

  <animation>
   <name>Disc4</name>
   <object-name>PropellerDisc4</object-name>
   <object-name>PropellerShaft4</object-name>
  </animation>

 <animation>
  <type>spin</type>
  <object-name>Disc4</object-name>
  <object-name>Propeller4</object-name>
  <property>engines/engine[3]/rpm</property>
  <factor>0.4375</factor> <!-- real 16 : 7 -->
  <center>
   <x-m>0.0</x-m>
   <y-m>9.72</y-m>
   <z-m>-0.16</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc4</object-name>
  <property>engines/engine[3]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller4</object-name>
  <condition>
   <less-than>
    <property>engines/engine[3]/rpm</property>
    <value>2000</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Disc4</object-name>
  <condition>
   <greater-than-equals>
    <property>engines/engine[3]/rpm</property>
    <value>2000</value>
   </greater-than-equals>
  </condition>
 </animation>

<!-- INBOARDS PROPELLERS -->

  <animation>
   <type>noshadow</type>
   <object-name>PropellerDisc2</object-name>
  </animation>

  <animation>
   <name>Disc2</name>
   <object-name>PropellerDisc2</object-name>
   <object-name>PropellerShaft2</object-name>
  </animation>

 <animation>
  <type>spin</type>
  <object-name>Disc2</object-name>
  <object-name>Propeller2</object-name>
  <property>engines/engine[1]/rpm</property>
  <factor>0.4375</factor> <!-- real 16 : 7 -->
  <center>
   <x-m>0.0</x-m>
   <y-m>-4.69</y-m>
   <z-m>-0.685</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc2</object-name>
  <property>engines/engine[1]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller2</object-name>
  <condition>
   <less-than>
    <property>engines/engine[1]/rpm</property>
    <value>2000</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Disc2</object-name>
  <condition>
   <greater-than-equals>
    <property>engines/engine[1]/rpm</property>
    <value>2000</value>
   </greater-than-equals>
  </condition>
 </animation>

<!-- 3 -->

  <animation>
   <type>noshadow</type>
   <object-name>PropellerDisc3</object-name>
  </animation>

  <animation>
   <name>Disc3</name>
   <object-name>PropellerDisc3</object-name>
   <object-name>PropellerShaft3</object-name>
  </animation>

 <animation>
  <type>spin</type>
  <object-name>Disc3</object-name>
  <object-name>Propeller3</object-name>
  <property>engines/engine[2]/rpm</property>
  <factor>0.4375</factor> <!-- real 16 : 7 -->
  <center>
   <x-m>0.0</x-m>
   <y-m>4.685</y-m>
   <z-m>-0.685</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc3</object-name>
  <property>engines/engine[2]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller3</object-name>
  <condition>
   <less-than>
    <property>engines/engine[2]/rpm</property>
    <value>2000</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Disc3</object-name>
  <condition>
   <greater-than-equals>
    <property>engines/engine[2]/rpm</property>
    <value>2000</value>
   </greater-than-equals>
  </condition>
 </animation>

<!-- FRONT GEAR -->

 <animation>
  <name>NoseWheels</name>
  <object-name>FrontHub</object-name>
  <object-name>FrontTyre1</object-name>
  <object-name>FrontTyre2</object-name>
 </animation>

 <animation>
  <name>NoseLowerStruts</name>
  <object-name>FGLowerDragStrutsL</object-name>
  <object-name>FGLowerDragStrutsR</object-name>
 </animation>

 <animation>
  <name>Nose1Gear</name>
  <object-name>FrontGear</object-name>
  <object-name>NoseWheels</object-name>
  <object-name>NoseLowerStruts</object-name>
 </animation>

 <animation>
  <name>NosePiston</name>
  <object-name>FGUpperDragStruts</object-name>
  <object-name>FrontGearPiston</object-name>
 </animation>

 <animation>
  <name>NoseAllGear</name>
  <object-name>Nose1Gear</object-name>
  <object-name>NosePiston</object-name>
  <object-name>FrontGearCylinder</object-name>
 </animation>

 <animation>
  <type>select</type>
  <object-name>NoseAllGear</object-name>
  <condition>
   <or>
    <greater-than>
     <property>gear/gear[0]/position-norm</property>
     <value>0.0</value>
    </greater-than>
    <property>systems/seat/gear-well</property>
   </or>
  </condition>
 </animation>
 
 <animation>
  <type>spin</type>
  <object-name>FrontTyre1</object-name>
  <condition>
   <and>
    <less-than>
     <property>position/altitude-agl-ft</property>
     <value>50.0</value>
    </less-than>
    <property>gear/gear[0]/wow</property> <!-- ground contact -->
   </and>
  </condition>
  <property>velocities/uBody-fps</property>
  <factor>-2.0</factor>
  <axis>
   <x1-m>-15.453</x1-m>
   <y1-m>-0.378</y1-m>
   <z1-m>-2.972</z1-m>
   <x2-m>-15.453</x2-m>
   <y2-m>-0.159</y2-m>
   <z2-m>-2.962</z2-m>
  </axis>
 </animation> 
 
 <animation>
  <type>spin</type>
  <object-name>FrontTyre2</object-name>
  <condition>
   <and>
    <less-than>
     <property>position/altitude-agl-ft</property>
     <value>50.0</value>
    </less-than>
    <property>gear/gear[0]/wow</property>
   </and>
  </condition>
  <property>velocities/uBody-fps</property>
  <factor>-2.0</factor>
  <axis>
   <x1-m>-15.454</x1-m>
   <y1-m> 0.384</y1-m>
   <z1-m>-2.972</z1-m>
   <x2-m>-15.454</x2-m>
   <y2-m> 0.166</y2-m>
   <z2-m>-2.962</z2-m>
  </axis>
 </animation> 
 
 <animation>
  <type>rotate</type>
  <object-name>Nose1Gear</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>107.5</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>107.5</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-14.637</x-m>
   <y-m>0.0</y-m>
   <z-m>-0.604</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-1</y>
   <z>0</z>
  </axis>
 </animation> 
 
 <animation>
  <type>translate</type>
  <object-name>NosePiston</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>0.17</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>0.17</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation> 

<!-- articulation between upper and lower struts -->
 
 <animation>
  <type>rotate</type>
  <object-name>NoseLowerStruts</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>120.0</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>120.0</dep>
   </entry>
   <entry>
     <ind>0.5</ind>
     <dep>93.0</dep>
   </entry>
   <entry>
     <ind>0.75</ind>
     <dep>55.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-15.166</x-m>
   <y-m>0.0</y-m>
   <z-m>-1.916</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>1</y>
   <z>0</z>
  </axis>
 </animation> 
 
 <animation>
  <type>rotate</type>
  <object-name>FGUpperDragStruts</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>138.0</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>138.0</dep>
   </entry>
   <entry>
     <ind>0.5</ind>
     <dep>99.0</dep>
   </entry>
   <entry>
     <ind>0.75</ind>
     <dep>55.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>              
   <x-m>-13.879</x-m>
   <y-m>0.0</y-m>
   <z-m>-0.330</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-1</y>
   <z>0</z>
  </axis>
 </animation> 

 <animation>
  <type>rotate</type>
  <object-name>NoseWheels</object-name>
  <condition>
   <property>controls/crew/steering/wheel</property>
  </condition>
  <property>gear/gear[0]/steering-norm</property>
  <factor>-58.5</factor>
  <center>
   <x-m>-15.454</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0</y>
   <z>1</z>
  </axis>
 </animation>

 <animation>
  <name>FrontAllDoors</name>
  <object-name>FrontDoor</object-name>
  <object-name>FrontDoor1</object-name>
  <object-name>FrontDoor2</object-name>
  <object-name>FrontPlate</object-name>
 </animation>

 <animation>
  <type>select</type>
  <object-name>FrontAllDoors</object-name>
  <condition>
   <or>
    <greater-than>
     <property>gear/gear[0]/position-norm</property>
     <value>0.0</value>
    </greater-than>
    <property>systems/seat/gear-well</property>
   </or>
  </condition>
 </animation>

 <animation>
  <type>translate</type>
  <object-name>FrontPlate</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>0.41</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-14.72</x-m>
   <y-m>0.0</y-m>
   <z-m>-0.96</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>-0.04</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>FrontDoor</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>-100.0</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>-100.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-14.94</x-m>
   <y-m>0.0</y-m>
   <z-m>-0.94</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>1</y>
   <z>0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>FrontDoor1</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>-80.0</dep>
   </entry>
   <entry>
     <ind>0.4</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-12.82</x-m>
   <y-m>-0.78</y-m>
   <z-m>-0.92</z-m>
  </center>
  <axis>
   <x>-1</x>
   <y>0.05</y>
   <z>0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>FrontDoor2</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>80.0</dep>
   </entry>
   <entry>
     <ind>0.4</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-12.82</x-m>
   <y-m>0.78</y-m>
   <z-m>-0.92</z-m>
  </center>
  <axis>
   <x>-1</x>
   <y>-0.05</y>
   <z>0</z>
  </axis>
 </animation>

 <animation>
  <type>select</type>
  <object-name>FrontDoorClosed</object-name>
  <condition>
   <and>
    <equals>
     <property>gear/gear[0]/position-norm</property>
     <value>0.0</value>
    </equals>
    <not>
     <property>sim/current-view/internal</property>
    </not>
   </and>
  </condition>
 </animation>

<!-- LEFT GEAR -->

 <animation>
  <name>LeftTyre</name>
  <object-name>LeftTyre1</object-name>
  <object-name>LeftTyre2</object-name>
 </animation>

 <animation>
  <name>WingLeftGear</name>
  <object-name>LeftGear</object-name>
  <object-name>LeftTyre</object-name>
 </animation>

 <animation>
  <type>select</type>
  <object-name>WingLeftGear</object-name>
  <condition>
   <or>
    <and>
     <greater-than>
      <property>gear/gear[1]/position-norm</property>
      <value>0.0</value>
     </greater-than>
     <not>
      <property>sim/current-view/internal</property>
     </not>
    </and>
    <property>systems/seat/observer</property>
    <property>systems/seat/observer2</property>
   </or>
  </condition>
 </animation>
 
 <animation>
  <type>spin</type>
  <object-name>LeftTyre</object-name>
  <condition>
   <and>
    <less-than>
     <property>position/altitude-agl-ft</property>
     <value>50.0</value>
    </less-than>
    <property>gear/gear[1]/wow</property>
   </and>
  </condition>
  <property>velocities/uBody-fps</property>
  <factor>-2.0</factor>
  <center>
   <x-m>-0.900</x-m>
   <y-m> 0.0</y-m>
   <z-m>-2.748</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>1</y>
   <z>0</z>
  </axis>
 </animation> 
 
 <animation>
  <type>rotate</type>
  <object-name>WingLeftGear</object-name>
  <property>gear/gear[1]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>-97.0</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>-97.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-0.92</x-m>
   <y-m>-4.62</y-m>
   <z-m>-0.79</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-1</y>
   <z>0</z>
  </axis>
 </animation> 

 <animation>
  <type>rotate</type>
  <object-name>LeftDoor1</object-name>
  <property>gear/gear[1]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>0.4</ind>
     <dep>-64.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>-64.0</dep>
   </entry>
  </interpolation>   
  <axis>
   <x1-m>-3.540</x1-m>
   <y1-m>-5.425</y1-m>
   <z1-m>-0.962</z1-m>
   <x2-m>-0.767</x2-m>
   <y2-m>-5.273</y2-m>
   <z2-m>-0.918</z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>LeftDoor2</object-name>
  <property>gear/gear[1]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>0.4</ind>
     <dep>64.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>64.0</dep>
   </entry>
  </interpolation>   
  <axis>
   <x1-m>-3.540</x1-m>
   <y1-m>-3.977</y1-m>
   <z1-m>-0.962</z1-m>
   <x2-m>-0.767</x2-m>
   <y2-m>-4.129</y2-m>
   <z2-m>-0.918</z2-m>
  </axis>
 </animation>

<!-- RIGHT GEAR -->

 <animation>
  <name>RightTyre</name>
  <object-name>RightTyre1</object-name>
  <object-name>RightTyre2</object-name>
 </animation>

 <animation>
  <name>WingRightGear</name>
  <object-name>RightGear</object-name>
  <object-name>RightTyre</object-name>
 </animation>

 <animation>
  <type>select</type>
  <object-name>WingRightGear</object-name>
  <condition>
   <or>
    <and>
     <greater-than>
      <property>gear/gear[2]/position-norm</property>
      <value>0.0</value>
     </greater-than>
     <not>
      <property>sim/current-view/internal</property>
     </not>
    </and>
    <property>systems/seat/observer</property>
    <property>systems/seat/observer2</property>
   </or>
  </condition>
 </animation>
 
 <animation>
  <type>spin</type>
  <object-name>RightTyre</object-name>
  <condition>
   <and>
    <less-than>
     <property>position/altitude-agl-ft</property>
     <value>50.0</value>
    </less-than>
    <property>gear/gear[2]/wow</property>
   </and>
  </condition>
  <property>velocities/uBody-fps</property>
  <factor>-2.0</factor>
  <center>
   <x-m>-0.900</x-m>
   <y-m> 0.0</y-m>
   <z-m>-2.748</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>1</y>
   <z>0</z>
  </axis>
 </animation> 
 
 <animation>
  <type>rotate</type>
  <object-name>WingRightGear</object-name>
  <property>gear/gear[2]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>97.2</dep>
   </entry>
   <entry>
     <ind>0.3</ind>
     <dep>97.2</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>0.0</dep>
   </entry>
  </interpolation>   
  <center>
   <x-m>-0.92</x-m>
   <y-m>4.62</y-m>
   <z-m>-0.79</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>1</y>
   <z>0</z>
  </axis>
 </animation> 

 <animation>
  <type>rotate</type>
  <object-name>RightDoor1</object-name>
  <property>gear/gear[2]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>0.4</ind>
     <dep>-64.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>-64.0</dep>
   </entry>
  </interpolation>   
  <axis>
   <x1-m>-3.540</x1-m>
   <y1-m> 3.954</y1-m>
   <z1-m>-0.962</z1-m>
   <x2-m>-0.767</x2-m>
   <y2-m> 4.105</y2-m>
   <z2-m>-0.918</z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightDoor2</object-name>
  <property>gear/gear[2]/position-norm</property>
  <interpolation>
   <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
   </entry>
   <entry>
     <ind>0.4</ind>
     <dep>64.0</dep>
   </entry>
   <entry>
     <ind>1.0</ind>
     <dep>64.0</dep>
   </entry>
  </interpolation>   
  <axis>
   <x1-m>-3.540</x1-m>
   <y1-m> 5.401</y1-m>
   <z1-m>-0.962</z1-m>
   <x2-m>-0.767</x2-m>
   <y2-m> 5.250</y2-m>
   <z2-m>-0.918</z2-m>
  </axis>
 </animation>

<!-- FLAPS (41 deg real) -->

 <animation>
  <type>translate</type>
  <object-name>LeftFlap</object-name>
  <property>surface-positions/flap-pos-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>0.10</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>0.22</ind>
     <dep>0.917</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>0.917</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>0.48</x-m>
   <y-m>-6.6</y-m>
   <z-m>-0.14</z-m>
  </center>
  <axis>
   <x>1.0</x>
   <y>0.0</y>
   <z>-0.02</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>LeftFlap</object-name>
  <property>surface-positions/flap-pos-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
    </entry>
    <entry>
     <ind>0.10</ind>
     <dep>-18.0</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>-18.0</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>0.48</x-m>
   <y-m>-6.6</y-m>
   <z-m>-0.08</z-m>
  </center>
  <axis>
   <x>-0.03</x>
   <y>-1.0</y>
   <z>0.13</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>LeftFlap</object-name>
  <property>surface-positions/flap-pos-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>0.22</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>-23.0</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>0.583</x-m>
   <y-m>-6.6</y-m>
   <z-m>-0.08</z-m>
  </center>
  <axis>
   <x>-0.03</x>
   <y>-1.0</y>
   <z>0.13</z>
  </axis>
 </animation>

 <animation>
  <type>translate</type>
  <object-name>RightFlap</object-name>
  <property>surface-positions/flap-pos-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>0.10</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>0.22</ind>
     <dep>0.917</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>0.917</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>0.48</x-m>
   <y-m>6.6</y-m>
   <z-m>-0.14</z-m>
  </center>
  <axis>
   <x>1.0</x>
   <y>0.0</y>
   <z>-0.02</z>
  </axis>
 </animation>

<!-- 1st rotation before translation, because of embedded center flap -->

 <animation>
  <type>rotate</type>
  <object-name>RightFlap</object-name>
  <property>surface-positions/flap-pos-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
    </entry>
    <entry>
     <ind>0.10</ind>
     <dep>18.0</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>18.0</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>0.48</x-m>
   <y-m>6.6</y-m>
   <z-m>-0.08</z-m>
  </center>
  <axis>
   <x>-0.03</x>
   <y>1.0</y>
   <z>0.13</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightFlap</object-name>
  <property>surface-positions/flap-pos-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>0.22</ind>
     <dep>0</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>23.0</dep> <!-- 41 deg minus 18 -->
    </entry>
  </interpolation>
  <center>
   <x-m>0.583</x-m> <!-- 1.5 minus 0.917 -->
   <y-m>6.6</y-m>
   <z-m>-0.08</z-m>
  </center>
  <axis>
   <x>-0.03</x> <!-- height -->
   <y>1.0</y>
   <z>0.13</z> <!-- depth -->
  </axis>
 </animation>

<!-- AILERON (minus 10/25 deg real) -->

 <animation>
  <type>rotate</type>
  <object-name>LeftAileron</object-name>
  <condition>
   <less-than>
    <property>surface-positions/left-aileron-pos-norm</property>
    <value>0.0</value>
   </less-than>
  </condition>
  <property>surface-positions/left-aileron-pos-norm</property>
  <factor>-10.0</factor>
  <offset-deg>0</offset-deg>   
  <min>0.0</min>
  <center>
   <x-m>0.54</x-m>
   <y-m>-14.4</y-m>
   <z-m>0.76</z-m>
  </center>
  <axis>
   <x>0.030</x>
   <y>-1.0</y>
   <z>0.105</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>LeftAileron</object-name>
  <condition>
   <greater-than>
    <property>surface-positions/left-aileron-pos-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <property>surface-positions/left-aileron-pos-norm</property>
  <property>surface-positions/left-aileron-pos-norm</property>
  <factor>-25.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>0.54</x-m>
   <y-m>-14.4</y-m>
   <z-m>0.76</z-m>
  </center>
  <axis>
   <x>0.030</x>
   <y>-1.0</y>
   <z>0.105</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightAileron</object-name>
  <condition>
   <less-than>
    <property>surface-positions/right-aileron-pos-norm</property>
    <value>0.0</value>
   </less-than>
  </condition>
  <property>surface-positions/right-aileron-pos-norm</property>
  <factor>-10.0</factor>
  <offset-deg>0</offset-deg>   
  <min>0.0</min>
  <center>
   <x-m>0.54</x-m>
   <y-m>14.4</y-m>
   <z-m>0.76</z-m>
  </center>
  <axis>
   <x>0.030</x>
   <y>1.0</y>
   <z>0.105</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightAileron</object-name>
  <condition>
   <greater-than>
    <property>surface-positions/right-aileron-pos-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <property>surface-positions/right-aileron-pos-norm</property>
  <factor>-25.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>0.54</x-m>
   <y-m>14.4</y-m>
   <z-m>0.76</z-m>
  </center>
  <axis>
   <x>0.030</x> <!-- height -->
   <y>1.0</y>
   <z>0.105</z> <!-- depth -->
  </axis>
 </animation>

<!-- ELEVATOR (real) -->

 <animation>
  <type>rotate</type>
  <object-name>LeftElevator</object-name>
  <condition>
   <less-than>
    <property>surface-positions/elevator-pos-norm</property>
    <value>0.0</value>
   </less-than>
  </condition>
  <property>surface-positions/elevator-pos-norm</property>
  <factor>40.0</factor>
  <offset-deg>0</offset-deg>   
  <min>0.0</min>
  <center>
   <x-m>16.512</x-m>
   <y-m>0.0</y-m>
   <z-m>2.13</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>LeftElevator</object-name>
  <condition>
   <greater-than>
    <property>surface-positions/elevator-pos-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <property>surface-positions/elevator-pos-norm</property>
  <factor>20.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>16.512</x-m>
   <y-m>0.0</y-m>
   <z-m>2.13</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightElevator</object-name>
  <condition>
   <less-than>
    <property>surface-positions/elevator-pos-norm</property>
    <value>0.0</value>
   </less-than>
  </condition>
  <property>surface-positions/elevator-pos-norm</property>
  <factor>-40.0</factor>
  <offset-deg>0</offset-deg>   
  <min>0.0</min>
  <center>
   <x-m>16.512</x-m>
   <y-m>0.0</y-m>
   <z-m>2.13</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>-1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightElevator</object-name>
  <condition>
   <greater-than>
    <property>surface-positions/elevator-pos-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <property>surface-positions/elevator-pos-norm</property>
  <factor>-20.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>16.512</x-m>
   <y-m>0.0</y-m>
   <z-m>2.13</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>-1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<!-- RUDDER (30 deg real) -->

 <animation>
  <type>rotate</type>
  <object-name>LeftRudder</object-name>
  <property>surface-positions/rudder-pos-norm</property>
  <factor>30</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>15.95</x-m>
   <y-m>-6.3</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>Rudder</object-name>
  <property>surface-positions/rudder-pos-norm</property>
  <factor>30</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>15.95</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightRudder</object-name>
  <property>surface-positions/rudder-pos-norm</property>
  <factor>30</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>15.95</x-m>
   <y-m>6.30</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>


<!-- ====== -->
<!-- Inside -->
<!-- ====== -->

<!-- DOORS -->

 <animation>
  <name>CrewDoorAll</name>
  <object-name>CrewDoor</object-name>
  <object-name>CrewDoorWindows</object-name>
 </animation>

 <animation>
  <type>translate</type>
  <object-name>CrewDoorAll</object-name>
  <property>controls/doors/crew/position-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
    </entry>
    <entry>
     <ind>0.1</ind>
     <dep>-0.1</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>-0.1</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>-13.90</x-m>
   <y-m>1.32</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>CrewDoorAll</object-name>
  <property>controls/doors/crew/position-norm</property>
  <interpolation>
    <entry>
     <ind>0.0</ind>
     <dep>0.0</dep>
    </entry>
    <entry>
     <ind>0.1</ind>
     <dep>0.0</dep>
    </entry>
    <entry>
     <ind>1.0</ind>
     <dep>65.0</dep>
    </entry>
  </interpolation>
  <center>
   <x-m>0.0</x-m>
   <y-m>0.45</y-m>
   <z-m>0.45</z-m>
  </center>
  <axis>
   <x>1.0</x>
   <y>0.0</y>
   <z>0.0</z>
  </axis>
 </animation>

 <animation>
  <type>pick</type>
  <object-name>CrewDoorAll</object-name>
  <action>
   <button>0</button>
   <binding>
    <command>nasal</command>
    <script>globals.Lockheed1049.doorsystem.crewexport();</script>
   </binding>
  </action>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>FlightStationDoor</object-name>
  <property>controls/doors/flight-station/position-norm</property>
  <factor>90</factor>
  <center>
   <x-m>-13.451</x-m>
   <y-m>-0.182</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>

 <animation>
  <type>pick</type>
  <object-name>FlightStationDoor</object-name>
  <action>
   <button>0</button>
   <binding>
    <command>nasal</command>
    <script>globals.Lockheed1049.doorsystem.flightstationexport();</script>
   </binding>
  </action>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>PassengerDoor</object-name>
  <property>controls/doors/passenger/position-norm</property>
  <factor>-90</factor>
  <center>
   <x-m>-12.55</x-m>
   <y-m>-1.50</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>

 <animation>
  <type>pick</type>
  <object-name>PassengerDoor</object-name>
  <action>
   <button>0</button>
   <binding>
    <command>nasal</command>
    <script>globals.Lockheed1049.doorsystem.passengerexport();</script>
   </binding>
  </action>
 </animation>


<!-- EFFECTS -->

 <effect>
  <inherits-from>Effects/model-transparent</inherits-from>
  <condition>
   <property>sim/rendering/rembrandt/enabled</property>
  </condition>
  <object-name>Windows</object-name>
  <object-name>CrewDoorWindows</object-name>
  <object-name>MainDoorWindows</object-name>
 </effect>


<!-- ======== -->
<!-- Lighting -->
<!-- ======== -->

<!-- PILOT PANEL -->

 <animation>
  <type>material</type>
  <object-name>Panel</object-name>
  <condition>
   <or>
    <not>
     <property>/sim/rendering/rembrandt/enabled</property>
    </not>
    <less-than-equals>
     <property>/sim/rendering/shaders/lights</property>
     <property n="1">controls/environment/rembrandt/panel</property>
    </less-than-equals>
   </or>
  </condition>
  <emission>
   <red>1.0</red>
   <green-prop>systems/lighting/internal/panel/panel-green</green-prop>
   <blue-prop>systems/lighting/internal/panel/panel-blue</blue-prop>
   <factor-prop>systems/lighting/internal/panel/panel-light</factor-prop>
  </emission> 
 </animation>

<!-- PEDESTAL -->

 <animation>
  <type>material</type>
  <object-name>Pedestal</object-name>
  <condition>
   <or>
    <not>
     <property>/sim/rendering/rembrandt/enabled</property>
    </not>
    <less-than-equals>
     <property>/sim/rendering/shaders/lights</property>
     <property n="1">controls/environment/rembrandt/cockpit</property>
    </less-than-equals>
   </or>
  </condition>
  <emission>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>controls/lighting/internal/pedestal/on</factor-prop>
  </emission> 
 </animation>

<!-- OVERHEAD -->

 <animation>
  <type>material</type>
  <object-name>Overhead</object-name>
  <condition>
   <or>
    <not>
     <property>/sim/rendering/rembrandt/enabled</property>
    </not>
    <less-than-equals>
     <property>/sim/rendering/shaders/lights</property>
     <property n="1">controls/environment/rembrandt/cockpit</property>
    </less-than-equals>
   </or>
  </condition>
  <emission>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>controls/lighting/internal/overhead/on</factor-prop>
  </emission> 
 </animation>

<!-- ENGINEER -->

<!-- center panel -->

 <animation>
  <type>material</type>
  <object-name>EngineerPanel</object-name>
  <condition>
   <or>
    <not>
     <property>/sim/rendering/rembrandt/enabled</property>
    </not>
    <less-than-equals>
     <property>/sim/rendering/shaders/lights</property>
     <property n="1">controls/environment/rembrandt/panel</property>
    </less-than-equals>
   </or>
  </condition>
  <emission>
   <red>1.0</red>
   <green>0.1</green>
   <blue>0.1</blue>
   <factor-prop>systems/lighting/internal/engineer/flood-light</factor-prop>
  </emission> 
 </animation>

<!-- desk -->

 <animation>
  <type>material</type>
  <object-name>SwitchPanel</object-name>
  <condition>
   <or>
    <not>
     <property>/sim/rendering/rembrandt/enabled</property>
    </not>
    <less-than-equals>
     <property>/sim/rendering/shaders/lights</property>
     <property n="1">controls/environment/rembrandt/panel</property>
    </less-than-equals>
   </or>
  </condition>
  <emission>
   <red>1.0</red>
   <green>0.1</green>
   <blue>0.1</blue>
   <factor-prop>systems/lighting/internal/engineer/flood-light</factor-prop>
  </emission> 
 </animation>

 <animation>
  <type>material</type>
  <object-name>EngineerDeck</object-name>
  <condition>
   <or>
    <not>
     <property>/sim/rendering/rembrandt/enabled</property>
    </not>
    <less-than-equals>
     <property>/sim/rendering/shaders/lights</property>
     <property n="1">controls/environment/rembrandt/panel</property>
    </less-than-equals>
   </or>
  </condition>
  <emission>
   <red>1.0</red>
   <green>0.1</green>
   <blue>0.1</blue>
   <factor-prop>systems/lighting/internal/engineer/flood-light</factor-prop>
  </emission> 
 </animation>

</PropertyList>
